---
- hosts: all
  remote_user: root
  roles:
    - common

- hosts: all
  remote_user: root
  accelerate: true
  roles:
    - setup-network

- hosts: ha
  remote_user: root
  accelerate: true
  roles:
    - ha

- hosts: controller
  remote_user: root
  accelerate: true
  roles:
    - memcached
    - database
    - mq
    - keystone
    - nova-controller
    - neutron-controller
    - cinder-controller
    - glance
    - neutron-common
    - neutron-network
    - ceilometer_controller
#    - ext-network
    - dashboard
    - heat

- hosts: all
  remote_user: root
  accelerate: true
  roles: 
    - storage 

- hosts: compute
  remote_user: root
  accelerate: true
  roles:
    - nova-compute
    - neutron-compute
    - cinder-volume
    - ceilometer_compute

- hosts: all
  remote_user: root
  accelerate: true
  roles:
    - odl_cluster

- hosts: all
  remote_user: root
  accelerate: true
  roles:
    - onos_cluster

#- hosts: all
#  remote_user: root
#  sudo: True
#  roles:
#    - open-contrail

- hosts: controller
  remote_user: root
  accelerate: true
  roles:
    - ext-network

- hosts: ceph_adm
  remote_user: root
  accelerate: true
  roles: []
  #  - ceph-deploy

- hosts: ceph
  remote_user: root
  accelerate: true
  roles:
    - ceph-purge
    - ceph-config

- hosts: ceph_mon
  remote_user: root
  accelerate: true
  roles:
    - ceph-mon

- hosts: ceph_osd
  remote_user: root
  accelerate: true
  roles:
    - ceph-osd

- hosts: ceph
  remote_user: root
  accelerate: true
  roles:
    - ceph-openstack

- hosts: all
  remote_user: root
  accelerate: true
  roles:
    - monitor

- hosts: all
  remote_user: root
  accelerate: true
  roles:
    - secgroup
