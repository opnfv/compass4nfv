############################################################################## 
# Copyright (c) 2017 HUAWEI TECHNOLOGIES CO.,LTD and others. 
# 
# All rights reserved. This program and the accompanying materials 
# are made available under the terms of the Apache License, Version 2.0 
# which accompanies this distribution, and is available at 
# http://www.apache.org/licenses/LICENSE-2.0 
############################################################################## 
--- 
- name: create work directory
  file:
    path: {{ work_dir }}
    state: directory
    mode: 0755

- name: download dpdk pageage
  get_url: {{ dpdk_pkg_url }}
  dest: {{ work_dir }}/dpdk.tar.xz

- name: decompress dpdk source
  unarchive:
    src: {{ work_dir }}/dpdk.tar.xz
    dest: {{ work_dir }}/dpdk

- name: install prerequisites package
  apt:
    name: "{{ item }}"
    state: present
  with_item:
    - gcc
    - make
    - cmake
    - libpcap0.8
    - libpcap0.8-dev
