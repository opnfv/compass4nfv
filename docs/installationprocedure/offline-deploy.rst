.. two dots create a comment. please leave this logo at the top of each of your rst files.

Offline Deploy
==============

Compass4nfv uses offline approuch to deploy cluster and support complete offline
deployment on a jumphost without access internet. Here is the offline deployment
instuction:

Preparation for offline deploy
------------------------------

1.  Download compass.iso from OPNFV artifacts repository (Search compass4nfv in
    http://artifacts.opnfv.org/ and download an appropriate ISO. ISO can also be
    generated by script build.sh in compass4nfv root directory.)

2.  Download the Jumphost preparation package from our httpserver. (Download the
    jumphost environment package from `jh_env_package.tar.gz download page <https://205.177.226.237:9999/>`_.
    It should be awared that currently we only support ubuntu trusty as offline
    jumphost OS.)

3.  Clone the compass4nfv code repository.

Steps of offline deploy
-----------------------

1.  Copy the compass.iso, jh_env_package.tar.gz and the compass4nfv code
    repository to your jumphost.

2.  Export the local path of the compass.iso and jh_env_package.tar.gz on
    jumphost. Then you can perform deployment on a offline jumphost.

E.g.

Export the compass4nfv.iso and jh_env_package.tar.gz path

.. code-block:: bash

    # ISO_URL and JHPKG_URL should be absolute path
    export ISO_URL=file:///home/compass/compass4nfv.iso
    export JHPKG_URL=file:///home/compass/jh_env_package.tar.gz

Run deploy.sh

.. code-block:: bash

    ./deploy.sh
